version: "3.1"

rules:
- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Say 'I am a ChatBot called DiaPredictor.' anytime the user challenges
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Collect user data and confirm age, hypertension, heart disease, BMI
  steps:
  - intent: provide_age
  - action: action_save_user_data
  - action: utter_ask_hypertension  # "Do you have hypertension?"
  
- rule: Collect user data and confirm glucose level and smoking history
  steps:
  - intent: provide_hypertension
  - action: action_save_user_data
  - action: utter_ask_glucose_level  # "Whatâ€™s your average glucose level?"

- rule: Collect remaining data (e.g., smoking history)
  steps:
  - intent: provide_avg_glucose
  - action: action_save_user_data
  - action: utter_ask_smoking_history  # "Do you smoke?"
  
- rule: Predict diabetes after user provides all data
  steps:
  - intent: ask_result
  - action: action_predict_diabetes  # Custom action to process data and predict
  - action: utter_show_result  # Action that delivers the prediction result

- rule: Handle unclear user input
  steps:
  - intent: nlu_fallback  # Triggered when no intent matches or confidence is low
  - action: utter_ask_clarification  # Response asking the user to rephrase, e.g., "I'm sorry, could you please clarify?"

- rule: Ask for missing data if the user didn't provide full information
  steps:
  - intent: ask_for_missing_data  # Intent to prompt the user for missing details
  - action: utter_ask_missing_data  # Response asking for missing data
